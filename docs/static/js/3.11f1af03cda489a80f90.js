webpackJsonp([3],{"69Z4":function(t,e){},"D/SM":function(t,e){},Dgs1:function(t,e){},P5Xc:function(t,e){},YiNg:function(t,e){},wXUp:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("Dd8w"),n=i.n(s),a=i("NYxO"),r=i("+aT9"),o=i.n(r),c={name:"HomeHeader",data:function(){return{}},computed:n()({},Object(a.b)(["city"])),created:function(){},mounted:function(){this.getLocalCity()},methods:{getLocalCity:function(){var t=this;new o.a.Map("iCenter").plugin("AMap.Geolocation",function(){var e=new o.a.Geolocation({timeout:1e4});e.getCurrentPosition(),o.a.event.addListener(e,"complete",function(e){t.$store.commit("changeCity",e.addressComponent.city.slice(0,-1))}),o.a.event.addListener(e,"error",function(t){alert("定位失败")})})}}},l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[this._m(0),this._v(" "),this._m(1),this._v(" "),e("router-link",{attrs:{to:"/city"}},[e("div",{staticClass:"header-right"},[this._v("\n\t\t\t"+this._s(this.city)+"\n\t\t\t"),e("i",{staticClass:"iconfont icon-xiajiantou"})])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header-left"},[e("i",{staticClass:"iconfont icon-fanhui"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header-input"},[e("i",{staticClass:"iconfont icon-iconfontzhizuobiaozhun22"}),this._v("\n\t\t输入城市/景点/游玩主题\n\t")])}]};var d=i("VU/8")(c,l,!1,function(t){i("P5Xc")},"data-v-4f486a02",null).exports,m={name:"HomeSwiper",props:{swiperList:Array},data:function(){return{swiperOption:{pagination:{el:".swiper-pagination"},loop:!0,autoplay:!0}}},methods:{}},u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wrapper"},[this.swiperList.length?e("swiper",{attrs:{options:this.swiperOption}},[this._l(this.swiperList,function(t){return e("swiper-slide",{key:t.id},[e("img",{staticClass:"swiper-img",attrs:{src:t.imgUrl,alt:""}})])}),this._v(" "),e("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2):this._e()],1)},staticRenderFns:[]};var p=i("VU/8")(m,u,!1,function(t){i("D/SM")},"data-v-02a3758a",null).exports,v={name:"HomeIcon",props:{iconList:Array},computed:{pages:function(){var t=[];return this.iconList.forEach(function(e,i){var s=Math.floor(i/8);t[s]||(t[s]=[]),t[s].push(e)}),t}}},f={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"icon-wrapper"},[i("ul",{staticClass:"icon-list"},[i("swiper",t._l(t.pages,function(e,s){return i("swiper-slide",{key:s},t._l(e,function(e){return i("li",{staticClass:"icon-item"},[i("div",{staticClass:"icon-img-wrapper"},[i("img",{staticClass:"icon-img",attrs:{src:e.imgUrl,alt:""}})]),t._v(" "),i("p",{staticClass:"icon-desc"},[t._v(t._s(e.desc))])])}))}))],1)])},staticRenderFns:[]};var h=i("VU/8")(v,f,!1,function(t){i("69Z4")},"data-v-423b881f",null).exports,_={name:"HomeRecommend",props:{recommendList:Array}},C={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"recommend-title"},[t._v("热销推荐")]),t._v(" "),i("ul",{staticClass:"recommend-list"},t._l(t.recommendList,function(e){return i("router-link",{key:e.id,staticClass:"item border-bottom",attrs:{tag:"li",to:"/detail/"+e.id}},[i("img",{staticClass:"img",attrs:{src:e.imgUrl,alt:""}}),t._v(" "),i("div",{staticClass:"info"},[i("p",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),i("p",{staticClass:"desc"},[t._v(t._s(e.desc))]),t._v(" "),i("button",{staticClass:"btn"},[t._v("查看详情")])])])}))])},staticRenderFns:[]};var g=i("VU/8")(_,C,!1,function(t){i("YiNg")},"data-v-1ad80692",null).exports,w={name:"HomeWeekend",props:{weekendList:Array}},L={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"recommend-title"},[t._v("周末去哪儿")]),t._v(" "),i("ul",{staticClass:"recommend-list"},t._l(t.weekendList,function(e){return i("li",{key:e.id,staticClass:"item border-bottom"},[i("div",{staticClass:"img-wrapper"},[i("img",{staticClass:"img",attrs:{src:e.imgUrl,alt:""}})]),t._v(" "),i("div",{staticClass:"info"},[i("p",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),i("p",{staticClass:"desc"},[t._v(t._s(e.desc))])])])}))])},staticRenderFns:[]};var y=i("VU/8")(w,L,!1,function(t){i("Dgs1")},"data-v-5e686c43",null).exports,k=i("cKc3"),H={name:"Home",components:{HomeHeader:d,HomeSwiper:p,HomeIcon:h,HomeRecommend:g,HomeWeekend:y},data:function(){return{swiperList:[],iconList:[],recommendList:[],weekendList:[],lastCity:""}},computed:n()({},Object(a.b)(["city"])),mounted:function(){this.lastCity=this.city,this.getHomeInfo()},activated:function(){this.lastCity!==this.city&&(this.lastCity=this.city,this.getHomeInfo())},methods:{getHomeInfo:function(){var t=this;k.a.get("/api/index.json?city="+this.city).then(function(e){if((e=e.data).ret&&e.data){var i=e.data;t.swiperList=i.swiperList,t.iconList=i.iconList,t.recommendList=i.recommendList,t.weekendList=i.weekendList}})}}},b={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("home-header"),t._v(" "),i("home-swiper",{attrs:{swiperList:t.swiperList}}),t._v(" "),i("home-icon",{attrs:{iconList:t.iconList}}),t._v(" "),i("home-recommend",{attrs:{recommendList:t.recommendList}}),t._v(" "),i("home-weekend",{attrs:{weekendList:t.weekendList}})],1)},staticRenderFns:[]},U=i("VU/8")(H,b,!1,null,null,null);e.default=U.exports}});